!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("styled-components")):"function"==typeof define&&define.amd?define(["react","styled-components"],n):"object"==typeof exports?exports.MinimalEditor=n(require("react"),require("styled-components")):e.MinimalEditor=n(e.react,e["styled-components"])}(window,function(e,n){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(n,t){n.exports=e},function(e,t){e.exports=n},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]])}return t},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var l=c(t(0)),f=u(t(3)),s=c(t(4));function d(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function p(e){var n=function e(n){if(n.nodeType===Node.TEXT_NODE)return n;for(var t=n.childNodes,r=t.length-1;r>=0;r--){var o=e(t[r]);if(null!==o)return o}return null}(e),t=document.activeElement===e;if(null!==n&&null!==n.nodeValue&&t){var r=document.createRange(),o=window.getSelection();r.setStart(n,n.nodeValue.length),r.collapse(!0),o.removeAllRanges(),o.addRange(r),e instanceof HTMLElement&&e.focus()}}var m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastHtml=n.props.html,n.el="function"==typeof n.props.innerRef?{current:null}:l.createRef(),n.getEl=function(){return(n.props.innerRef&&"function"!=typeof n.props.innerRef?n.props.innerRef:n.el).current},n.emitChange=function(e){var t=n.getEl();if(t){var r=t.innerHTML;if(n.props.onChange&&r!==n.lastHtml){var o=Object.assign({},e,{target:{value:r}});n.props.onChange(o)}n.lastHtml=r}},n}return o(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.tagName,r=n.html,o=n.innerRef,c=a(n,["tagName","html","innerRef"]);return l.createElement(t||"div",i({},c,{ref:"function"==typeof o?function(n){o(n),e.el.current=n}:o||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},n.prototype.shouldComponentUpdate=function(e){var n=this.props,t=this.getEl();return!t||(d(e.html)!==d(t.innerHTML)||(n.disabled!==e.disabled||n.tagName!==e.tagName||n.className!==e.className||n.innerRef!==e.innerRef||!f.default(n.style,e.style)))},n.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),p(e))},n.propTypes={html:s.string.isRequired,onChange:s.func,onBlur:s.func,onKeyDown:s.func,disabled:s.bool,tagName:s.string,className:s.string,style:s.object,innerRef:s.oneOfType([s.object,s.func])},n}(l.Component);n.default=m},function(e,n,t){"use strict";var r=Array.isArray,o=Object.keys,i=Object.prototype.hasOwnProperty;e.exports=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){var a,c,u,l=r(n),f=r(t);if(l&&f){if((c=n.length)!=t.length)return!1;for(a=c;0!=a--;)if(!e(n[a],t[a]))return!1;return!0}if(l!=f)return!1;var s=n instanceof Date,d=t instanceof Date;if(s!=d)return!1;if(s&&d)return n.getTime()==t.getTime();var p=n instanceof RegExp,m=t instanceof RegExp;if(p!=m)return!1;if(p&&m)return n.toString()==t.toString();var h=o(n);if((c=h.length)!==o(t).length)return!1;for(a=c;0!=a--;)if(!i.call(t,h[a]))return!1;for(a=c;0!=a--;)if(!e(n[u=h[a]],t[u]))return!1;return!0}return n!=n&&t!=t}},function(e,n,t){e.exports=t(5)()},function(e,n,t){"use strict";var r=t(6);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,n,t,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},function(e,n,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n,t){e.exports=t.p+"8544ed41991f4a2c8ad14c865b8407ba.woff"},function(e,n,t){e.exports=t.p+"8c0fdf99e8ac6d0a9035ba093e92d886.woff2"},function(e,n,t){e.exports=t.p+"cb78978b70fd039acc05a25ddd7606d5.svg"},function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(2),a=t.n(i),c=t(1),u=t.n(c);function l(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  @font-face {\n    font-family: 'izicons';\n    src: url(",") format('woff2'),\n         url(",") format('woff'),\n         url(",") format('svg');\n    font-weight: normal;\n    font-style: normal;\n  }\n"]);return l=function(){return e},e}var f=t(7),s=t(8),d=t(9),p=Object(c.createGlobalStyle)(l(),s,f,d);function m(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  appearance: none;\n  outline: none;\n\n  min-width: 36px;\n  min-height: 36px;\n  margin: 3px;\n  display: inline-block;\n  vertical-align: middle;\n  border: 0;\n  border-radius: 4px;\n  font-size: 18px;\n  border: 1px solid transparent;\n  transition: all .3s ease-in-out;\n\n  &:hover {\n    border: 1px solid silver;\n    background: #eee;\n  }\n\n  &:active {\n    border: 1px solid white;\n    background: #aaa;\n  }\n\n  &:before {\n    font-family: 'izicons';\n    content: \"",'";\n    display: inline-block;\n  }\n']);return m=function(){return e},e}var h=u.a.button(m(),function(e){return e.content}),b=function(e,n){var t=e.getSelection();return{restore:function(){t&&t.rangeCount>0&&!t.getRangeAt(0).collapsed||n.focus()}}},y=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("bold"),r.restore()}(n,t,r)},content:"b"})},v=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("italic"),r.restore()}(n,t,r)},content:"i"})},g=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("underline"),r.restore()}(n,t,r)},content:"u"})},w=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("strikeThrough"),r.restore()}(n,t,r)},content:"s"})},O=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){t.focus();var r=b(n,t);e.execCommand("insertOrderedList"),r.restore()}(n,t,r)},content:"O"})},E=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){t.focus();var r=b(n,t);e.execCommand("insertUnorderedList"),r.restore()}(n,t,r)},content:"U"})},j=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("justifyRight"),r.restore()}(n,t,r)},content:"r"})},x=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("justifyLeft"),r.restore()}(n,t,r)},content:"l"})},_=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("justifyCenter"),r.restore()}(n,t,r)},content:"c"})},C=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("justifyFull"),r.restore()}(n,t,r)},content:"j"})},k=function(e){var n=e.document,t=e.window,r=e.root;return o.a.createElement(h,{onClick:function(){return function(e,n,t){var r=b(n,t);e.execCommand("removeFormat"),r.restore()}(n,t,r)},content:"ðŸ§¹"})};function S(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function P(){var e=T(["\n  &:not(:last-child) {\n    border-right: 1px solid silver;\n  }\n  &:not(:first-child) {\n    border-left: 1px solid silver;\n  }\n\n  display: inline-block;\n  vertical-align: middle;\n"]);return P=function(){return e},e}function R(){var e=T(["\n  display: flex;\n  justify-content: space-between;\n  margin: 3px auto;\n  border-radius: 4px;\n  border: 1px solid silver;\n"]);return R=function(){return e},e}function T(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var M=u.a.div(R()),N=u.a.div(P()),D=function(e){var n=e.editor,t=(S(e,["editor"]),n&&n.current),r=t&&n.current.ownerDocument;if(void 0===r||void 0===window)return"";var i={root:t,document:r,window:window};return o.a.createElement(M,null,o.a.createElement(N,null,o.a.createElement(y,i),o.a.createElement(v,i),o.a.createElement(g,i),o.a.createElement(w,i)),o.a.createElement(N,null,o.a.createElement(O,i),o.a.createElement(E,i)),o.a.createElement(N,null,o.a.createElement(x,i),o.a.createElement(_,i),o.a.createElement(j,i),o.a.createElement(C,i)),o.a.createElement(N,null,o.a.createElement(k,i)))},z=function(e,n){var t=e.getSelection();if(t&&t.rangeCount>0){var r=t&&t.getRangeAt(0);return{restore:function(){r&&!r.collapsed&&(t.removeAllRanges(),t.addRange(r),n.focus())}}}};function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,n){return(B=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function I(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  border-radius: 4px;\n  border: 1px solid brown;\n\n  padding: 0.2em 1em;\n  margin: 0 auto;\n\n  .ContentEditable {\n    min-height: 100px;\n    display: block;\n    outline: none;\n    margin: 0;\n    padding: 0;\n    line-height: 2em;\n    p {\n      margin: 0;\n    }\n  }\n"]);return I=function(){return e},e}var U=u.a.div(I()),q=function(e){function n(){var e,t,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=this,(e=!(r=F(n).call(this))||"object"!==H(r)&&"function"!=typeof r?A(t):r).contentEditable=o.a.createRef(),e.handleChange=e.handleChange.bind(A(e)),e.handleBlur=e.handleBlur.bind(A(e)),e.handleFocus=e.handleFocus.bind(A(e)),e.state={selection:void 0,html:"\n        <p>Deer stuar, selswair checker for mine</p>\n        <p>I wanna do it</p>\n        <p>I wanna do it???</p>\n      "},e}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&B(e,n)}(n,o.a.Component),t=n,(r=[{key:"handleChange",value:function(e){console.log("handleChange ContentEditable",e.target.value),this.setState({html:e.target.value})}},{key:"handleBlur",value:function(e){var n=z(window,this.contentEditable.current);this.setState({selection:n})}},{key:"handleFocus",value:function(e){var n=this.state.selection;void 0!==n&&n.restore()}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.setState({mounted:!1})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,null),this.state.mounted&&o.a.createElement(D,{editor:this.contentEditable}),o.a.createElement(U,null,o.a.createElement(a.a,{innerRef:this.contentEditable,html:this.state.html,disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,tagName:"div",className:"ContentEditable"})))}}])&&L(t.prototype,r),i&&L(t,i),n}();n.default=q}])});